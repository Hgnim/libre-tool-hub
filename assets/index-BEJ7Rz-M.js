import{y as M,z as m,A as p,B as h,h as y,C as b,D as f,E as O,G as w,k as R,H as S}from"./index-zlWwcpvC.js";const $=h?window:void 0,k=h?window.document:void 0;function C(n){var o;const l=f(n);return(o=l?.$el)!==null&&o!==void 0?o:l}function D(){const n=w(!1),o=S();return o&&R(()=>{n.value=!0},o),n}function E(n){const o=D();return y(()=>(o.value,!!n()))}function g(n,o,l={}){const{window:r=$,...e}=l;let i;const c=E(()=>r&&"MutationObserver"in r),u=()=>{i&&(i.disconnect(),i=void 0)},v=m(y(()=>{const t=b(f(n)).map(C).filter(O);return new Set(t)}),t=>{u(),c.value&&t.size&&(i=new MutationObserver(o),t.forEach(s=>i.observe(s,e)))},{immediate:!0,flush:"post"}),d=()=>i?.takeRecords(),a=()=>{v(),u()};return p(a),{isSupported:c,stop:a,takeRecords:d}}function A(n=null,o={}){var l,r;const{document:e=k,restoreOnUnmount:i=t=>t}=o,c=(l=e?.title)!==null&&l!==void 0?l:"",u=M((r=n??e?.title)!==null&&r!==void 0?r:null),v=!!(n&&typeof n=="function");function d(t){if(!("titleTemplate"in o))return t;const s=o.titleTemplate||"%s";return typeof s=="function"?s(t):f(s).replace(/%s/g,t)}if(m(u,(t,s)=>{t!==s&&e&&(e.title=d(t??""))},{immediate:!0}),o.observe&&!o.titleTemplate&&e&&!v){var a;g((a=e.head)===null||a===void 0?void 0:a.querySelector("title"),()=>{e&&e.title!==u.value&&(u.value=d(e.title))},{childList:!0})}return p(()=>{if(i){const t=i(c,u.value||"");t!=null&&e&&(e.title=t)}}),u}export{A as u};