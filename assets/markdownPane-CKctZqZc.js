import{d as v}from"./marked.esm-C0Rlrcoy.js";import{d as m,m as f,o as _,b as k,e as w,f as b,g as d,_ as y}from"./index-C0TmaeuK.js";const l={x:null,y:null,width:null,height:null,zIndex:null,id:null,class:[],markdown:"",html:""};function I(r,t=!0){const n=p(r);let s="";return n.panes.forEach(e=>{const i=[];let o=!1;{let c=function(){u||(i.push("position:absolute;"),u=!0)},u=!1;e.x!=null&&e.x!=null&&(i.push(`left:${e.x}px;`),c(),o=!0),e.y!=null&&e.y!=null&&(i.push(`top:${e.y}px;`),c(),o=!0)}e.width!=null&&e.width!=null&&i.push(`width:${e.width}px;`),e.height!=null&&e.height!=null&&(i.push(`height:${e.height}px;`),o=!0),e.zIndex!=null&&e.zIndex!=null&&(i.push(`z-index:${e.zIndex};`),o=!0);const a=(()=>{if(o){let u="";return i.forEach(c=>{u+=c}),` style="${u}"`}else return""})(),h=e.id!=null&&e.id!=null?` id="${e.id}"`:"",x=(()=>{let u="";return e.class.length>0?(e.class.forEach(c=>{u+=c+" "}),` class="${u}"`):""})();s+=`<div${h}${x}${a}>
${e.html}</div>
`}),t?`<div style="position:relative;overflow:scroll;width:100%;height:100%;">
${s}
</div>`:s}function p(r){const t={panes:[]},n=r.split(`
`);let s=null,e=[],i=[];function o(a){s.markdown=a.join(`
`).trim(),s.html=v.parse(s.markdown),t.panes.push(structuredClone(s)),s=null}for(const a of n){const h=a.trim();if(h.startsWith("---")){s?o(e):(s=g(h.slice(3).trim()),e=[]);continue}s?e.push(a):i.push(a)}return s&&o(e),s=structuredClone(l),o(i),t}function g(r){const t=structuredClone(l);{const n=r.trim();if(!n||n==="")return t}if(r.includes("="))for(const[,n,s]of r.matchAll(/(\w+(?:-\w+)?)=("[^"]*"|'[^']*'|[^\s"']+)/g)){let e=s;switch((e.startsWith('"')&&e.endsWith('"')||e.startsWith("'")&&e.endsWith("'"))&&(e=e.slice(1,-1)),n){case"x":t.x=parseInt(e)??l.x;break;case"y":t.y=parseInt(e)??l.y;break;case"w":case"width":t.width=parseInt(e)??l.width;break;case"h":case"height":t.height=parseInt(e)??l.height;break;case"z":case"z-index":t.zIndex=parseInt(e)??l.zIndex;break;case"id":t.id=e??l.id;break;case"class":t.class=e.split(/\s+/).filter(Boolean)??l.class;break}}else{const n=r.trim().split(/\s+/);for(let s=0;s<n.length;s++)switch(s){case 0:t.x=parseInt(n[s])??l.x;break;case 1:t.y=parseInt(n[s])??l.y;break;case 2:t.width=parseInt(n[s])??l.width;break;case 3:t.height=parseInt(n[s])??l.height;break;case 4:t.zIndex=parseInt(n[s])??l.zIndex;break;case 5:{const e=n.slice(s);for(let i=0;i<e.length;i++)i===0?t.id=e[0]??l.id:e[i]&&t.class.push(e[i])}break}}return t}const z={parse:(r,t=!0)=>I(r,t),parseJson:r=>p(r)},$={class:"container"},B={class:"row"},C={class:"col-6"},M={class:"input-group"},W={class:"col-6"},A=m({__name:"markdownPane",setup(r){const t=f(null),n=f(null);function s(){t.value&&n.value&&(n.value.innerHTML=z.parse(t.value.value))}function e(){t.value&&n.value&&(n.value.style.height=t.value.style.height||`${t.value.offsetHeight}px`)}let i=null;return _(()=>{i=new ResizeObserver(e),i.observe(t.value),e()}),k(()=>{i&&i.disconnect()}),(o,a)=>(b(),w("div",$,[d("div",B,[d("div",C,[d("div",M,[d("textarea",{ref_key:"inputBox",ref:t,id:"inputBox",class:"form-control",placeholder:"输入",onInput:s},null,544)])]),d("div",W,[d("div",{ref_key:"outputBox",ref:n,class:"form-control"},null,512)])])]))}}),P=y(A,[["__scopeId","data-v-3b8ad934"]]);export{P as default};
