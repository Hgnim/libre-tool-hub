import{v as T,d as D,c as $,j as E,k as U,m as r,o as z,e as F,f as j,g as t,t as c,u as v,s as B,F as H,_ as M}from"./index-CJ0o9m72.js";import{u as O}from"./index-B_UCDD8_.js";import{d as w}from"./baseConversion-Cn6k0PLg.js";function I(l){switch(l){case 2:return 8;case 8:case 10:return 3;case 16:return 2;default:throw new Error("getCharBit中出现了不支持的基数")}}function R(l,e){try{return l.length%I(e)==0}catch{return!1}}function S(l,e,f){try{const i=I(f);if(l!=null&&e==null){let n="";const s=new TextEncoder().encode(l);for(let a=0;a<s.length;a++){const o=w(s[a].toString(),10,f,!1).output.padStart(i,"0");n+=o}return{code:0,output:n}}else if(e!=null&&l==null){if(!R(e,f))return{code:1,output:null};let n="";{let s=[];for(let o=0;o<e.length;o+=i)s.push(Number(w(e.slice(o,o+i),f,10,!1).output));const a=new Uint8Array(s);n=new TextDecoder("utf-8").decode(a)}return{code:0,output:n}}else return{code:1,output:null}}catch{return{code:1,output:null}}}const G={class:"input-group center mb-2"},J={class:"form-check form-switch"},K={class:"form-check-label"},L={class:"input-group mb-2"},P={class:"input-group-text"},Q={class:"input-group mb-2"},W={value:"2",selected:""},X={value:"8"},Y={value:"10"},Z={value:"16"},ee={class:"input-group center mb-2"},N=D({__name:"StringAndBaseConversion",setup(l){const{lt:e,gt:f}=$();O(`${e("title")}${f("global.title")}`);const i=E(),n=U(()=>({str:i.query.text,baseStr:i.query.baseText,base:i.query.base})),s=r(null),a=r(null),o=r(null),p=r(null),d=r(null),_=r(null),h=r(!1),g=r(!1);function x(){s.value&&(s.value.checked?(a.value&&(a.value.style.display="none"),o.value&&(o.value.style.display="none")):(a.value&&(a.value.style.display=""),o.value&&(o.value.style.display="")))}function b(y){if(p.value&&d.value&&_.value){const u=y?S(p.value.value,null,Number(_.value.value)):S(null,d.value.value,Number(_.value.value));u.code==0?(y?d.value.value=u.output:p.value.value=u.output,h.value=!1,g.value=!1):u.code==1&&(y?h.value=!0:g.value=!0)}}let m=!1;function k(){s.value&&s.value.checked&&!m&&(C=!0,b(!0),C=!1)}let C=!1;function V(){s.value&&s.value.checked&&!C&&(m=!0,b(!1),m=!1)}return z(()=>{x(),(typeof n.value.str=="string"||typeof n.value.baseStr=="string")&&typeof n.value.base=="string"&&(_.value.value=n.value.base,typeof n.value.str=="string"?(p.value.value=n.value.str,b(!0)):typeof n.value.baseStr=="string"&&(d.value.value=n.value.baseStr,b(!1)))}),(y,u)=>(j(),F(H,null,[t("div",G,[t("div",J,[t("input",{ref_key:"autoConvSw",ref:s,onChange:x,class:"form-check-input",type:"checkbox",role:"switch",checked:""},null,544),t("label",K,c(v(e)("autoConv")),1)])]),t("div",L,[t("span",P,c(v(e)("text")),1),t("textarea",{ref_key:"stringValue",ref:p,class:B(["form-control",{"is-invalid":h.value}]),onInput:k},null,34)]),t("div",Q,[t("select",{ref_key:"baseType",ref:_,onChange:k,class:"input-group-text"},[t("option",W,c(v(e)("base-2")),1),t("option",X,c(v(e)("base-8")),1),t("option",Y,c(v(e)("base-10")),1),t("option",Z,c(v(e)("base-16")),1)],544),t("textarea",{ref_key:"baseValue",ref:d,class:B(["form-control",{"is-invalid":g.value}]),onInput:V},null,34)]),t("div",ee,[t("button",{ref_key:"doConvBtn_stb",ref:a,onClick:u[0]||(u[0]=q=>b(!0)),type:"button",class:"btn btn-primary"},c(v(e)("conv-textToBase")),513),t("button",{ref_key:"doConvBtn_bts",ref:o,onClick:u[1]||(u[1]=q=>b(!1)),type:"button",class:"btn btn-primary"},c(v(e)("conv-baseToText")),513)])],64))}});function A(l){const e=l;e.__i18n=e.__i18n||[],e.__i18n.push({locale:"",resource:{"zh-CN":{title:{t:0,b:{t:2,i:[{t:3}],s:"文本转进制-"}},autoConv:{t:0,b:{t:2,i:[{t:3}],s:"自动转换"}},"conv-textToBase":{t:0,b:{t:2,i:[{t:3}],s:"文本->n进制"}},"conv-baseToText":{t:0,b:{t:2,i:[{t:3}],s:"n进制->文本"}},text:{t:0,b:{t:2,i:[{t:3}],s:"文本"}},"base-2":{t:0,b:{t:2,i:[{t:3}],s:"二进制"}},"base-8":{t:0,b:{t:2,i:[{t:3}],s:"八进制"}},"base-10":{t:0,b:{t:2,i:[{t:3}],s:"十进制"}},"base-16":{t:0,b:{t:2,i:[{t:3}],s:"十六进制"}}},"en-US":{title:{t:0,b:{t:2,i:[{t:3}],s:"Text to n-base - "}},autoConv:{t:0,b:{t:2,i:[{t:3}],s:"Automatic conversion"}},"conv-textToBase":{t:0,b:{t:2,i:[{t:3}],s:"text -> n-base"}},"conv-baseToText":{t:0,b:{t:2,i:[{t:3}],s:"n-base -> text"}},text:{t:0,b:{t:2,i:[{t:3}],s:"Text"}},"base-2":{t:0,b:{t:2,i:[{t:3}],s:"Binary"}},"base-8":{t:0,b:{t:2,i:[{t:3}],s:"Octal"}},"base-10":{t:0,b:{t:2,i:[{t:3}],s:"Decimal"}},"base-16":{t:0,b:{t:2,i:[{t:3}],s:"Hexadecimal"}}}}})}typeof A=="function"&&A(N);const oe=M(N,[["__scopeId","data-v-da6ee8e3"]]);export{oe as default};
